---
layout: post
title: Disabling elements in Moodle forms
---
<article>
    <h2>{{ page.title }}</h2>
    <p>
        The moodle forms library is a wrapper of the PEAR QuickForm library,
        easy to use and very straightforward. One of the problems I found
        myself with, while working with this libray, is disabling elements.
        To do this there is a method called <b>disabledIf()</b> which allows
        you to disable elements based on the state of another. <br>
        What I was interested in though, is disabling an element based on the
        value of a variable that I sent to the form, at creation time. This was
        not really documented, or at least I haven't found a tutorial or
        indications of how to do it. <br>
        So after a bit of research into the source code, and some trial and error,
        I found out that using numerical boolean variables as parameters to the
        <b>disabledIf()</b> function you can enable/disable elements from the form,
        without the dependency on the state of another element.
        Here is an example:<br>

        <script src="https://gist.github.com/2644894.js?file=disable_moodle_form.php"></script>

        Now you only have to update the disabled_select variable when you display
        the form to have the select enabled or disabled.

        <script src="https://gist.github.com/2644982.js"> </script>

        Of course you can enable/disable multiple elements using this method,
        reusing the <b>$disabled</b> variable that you create at the beginning,
        or use diferent variables to set different states to different elements.
        This method also works with groups of elements.
    </p>
</article>